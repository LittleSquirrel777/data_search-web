{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var constants=require(\"constants\");var origCwd=process.cwd;var cwd=null;var platform=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!cwd)cwd=origCwd.call(process);return cwd};try{process.cwd()}catch(er){}if(typeof process.chdir===\"function\"){var chdir=process.chdir;process.chdir=function(d){cwd=null;chdir.call(process,d)};if(Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,chdir)}module.exports=patch;function patch(fs){if(constants.hasOwnProperty(\"O_SYMLINK\")&&process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)){patchLchmod(fs)}if(!fs.lutimes){patchLutimes(fs)}fs.chown=chownFix(fs.chown);fs.fchown=chownFix(fs.fchown);fs.lchown=chownFix(fs.lchown);fs.chmod=chmodFix(fs.chmod);fs.fchmod=chmodFix(fs.fchmod);fs.lchmod=chmodFix(fs.lchmod);fs.chownSync=chownFixSync(fs.chownSync);fs.fchownSync=chownFixSync(fs.fchownSync);fs.lchownSync=chownFixSync(fs.lchownSync);fs.chmodSync=chmodFixSync(fs.chmodSync);fs.fchmodSync=chmodFixSync(fs.fchmodSync);fs.lchmodSync=chmodFixSync(fs.lchmodSync);fs.stat=statFix(fs.stat);fs.fstat=statFix(fs.fstat);fs.lstat=statFix(fs.lstat);fs.statSync=statFixSync(fs.statSync);fs.fstatSync=statFixSync(fs.fstatSync);fs.lstatSync=statFixSync(fs.lstatSync);if(fs.chmod&&!fs.lchmod){fs.lchmod=function(path,mode,cb){if(cb)process.nextTick(cb)};fs.lchmodSync=function(){}}if(fs.chown&&!fs.lchown){fs.lchown=function(path,uid,gid,cb){if(cb)process.nextTick(cb)};fs.lchownSync=function(){}}if(platform===\"win32\"){fs.rename=typeof fs.rename!==\"function\"?fs.rename:function(fs$rename){function rename(from,to,cb){var start=Date.now();var backoff=0;fs$rename(from,to,__name(function CB(er){if(er&&(er.code===\"EACCES\"||er.code===\"EPERM\"||er.code===\"EBUSY\")&&Date.now()-start<6e4){setTimeout(function(){fs.stat(to,function(stater,st){if(stater&&stater.code===\"ENOENT\")fs$rename(from,to,CB);else cb(er)})},backoff);if(backoff<100)backoff+=10;return}if(cb)cb(er)},\"CB\"))}__name(rename,\"rename\");if(Object.setPrototypeOf)Object.setPrototypeOf(rename,fs$rename);return rename}(fs.rename)}fs.read=typeof fs.read!==\"function\"?fs.read:function(fs$read){function read(fd,buffer,offset,length,position,callback_){var callback;if(callback_&&typeof callback_===\"function\"){var eagCounter=0;callback=__name(function(er,_,__){if(er&&er.code===\"EAGAIN\"&&eagCounter<10){eagCounter++;return fs$read.call(fs,fd,buffer,offset,length,position,callback)}callback_.apply(this,arguments)},\"callback\")}return fs$read.call(fs,fd,buffer,offset,length,position,callback)}__name(read,\"read\");if(Object.setPrototypeOf)Object.setPrototypeOf(read,fs$read);return read}(fs.read);fs.readSync=typeof fs.readSync!==\"function\"?fs.readSync:function(fs$readSync){return function(fd,buffer,offset,length,position){var eagCounter=0;while(true){try{return fs$readSync.call(fs,fd,buffer,offset,length,position)}catch(er){if(er.code===\"EAGAIN\"&&eagCounter<10){eagCounter++;continue}throw er}}}}(fs.readSync);function patchLchmod(fs2){fs2.lchmod=function(path,mode,callback){fs2.open(path,constants.O_WRONLY|constants.O_SYMLINK,mode,function(err,fd){if(err){if(callback)callback(err);return}fs2.fchmod(fd,mode,function(err2){fs2.close(fd,function(err22){if(callback)callback(err2||err22)})})})};fs2.lchmodSync=function(path,mode){var fd=fs2.openSync(path,constants.O_WRONLY|constants.O_SYMLINK,mode);var threw=true;var ret;try{ret=fs2.fchmodSync(fd,mode);threw=false}finally{if(threw){try{fs2.closeSync(fd)}catch(er){}}else{fs2.closeSync(fd)}}return ret}}__name(patchLchmod,\"patchLchmod\");function patchLutimes(fs2){if(constants.hasOwnProperty(\"O_SYMLINK\")&&fs2.futimes){fs2.lutimes=function(path,at,mt,cb){fs2.open(path,constants.O_SYMLINK,function(er,fd){if(er){if(cb)cb(er);return}fs2.futimes(fd,at,mt,function(er2){fs2.close(fd,function(er22){if(cb)cb(er2||er22)})})})};fs2.lutimesSync=function(path,at,mt){var fd=fs2.openSync(path,constants.O_SYMLINK);var ret;var threw=true;try{ret=fs2.futimesSync(fd,at,mt);threw=false}finally{if(threw){try{fs2.closeSync(fd)}catch(er){}}else{fs2.closeSync(fd)}}return ret}}else if(fs2.futimes){fs2.lutimes=function(_a,_b,_c,cb){if(cb)process.nextTick(cb)};fs2.lutimesSync=function(){}}}__name(patchLutimes,\"patchLutimes\");function chmodFix(orig){if(!orig)return orig;return function(target,mode,cb){return orig.call(fs,target,mode,function(er){if(chownErOk(er))er=null;if(cb)cb.apply(this,arguments)})}}__name(chmodFix,\"chmodFix\");function chmodFixSync(orig){if(!orig)return orig;return function(target,mode){try{return orig.call(fs,target,mode)}catch(er){if(!chownErOk(er))throw er}}}__name(chmodFixSync,\"chmodFixSync\");function chownFix(orig){if(!orig)return orig;return function(target,uid,gid,cb){return orig.call(fs,target,uid,gid,function(er){if(chownErOk(er))er=null;if(cb)cb.apply(this,arguments)})}}__name(chownFix,\"chownFix\");function chownFixSync(orig){if(!orig)return orig;return function(target,uid,gid){try{return orig.call(fs,target,uid,gid)}catch(er){if(!chownErOk(er))throw er}}}__name(chownFixSync,\"chownFixSync\");function statFix(orig){if(!orig)return orig;return function(target,options,cb){if(typeof options===\"function\"){cb=options;options=null}function callback(er,stats){if(stats){if(stats.uid<0)stats.uid+=4294967296;if(stats.gid<0)stats.gid+=4294967296}if(cb)cb.apply(this,arguments)}__name(callback,\"callback\");return options?orig.call(fs,target,options,callback):orig.call(fs,target,callback)}}__name(statFix,\"statFix\");function statFixSync(orig){if(!orig)return orig;return function(target,options){var stats=options?orig.call(fs,target,options):orig.call(fs,target);if(stats){if(stats.uid<0)stats.uid+=4294967296;if(stats.gid<0)stats.gid+=4294967296}return stats}}__name(statFixSync,\"statFixSync\");function chownErOk(er){if(!er)return true;if(er.code===\"ENOSYS\")return true;var nonroot=!process.getuid||process.getuid()!==0;if(nonroot){if(er.code===\"EINVAL\"||er.code===\"EPERM\")return true}return false}__name(chownErOk,\"chownErOk\")}__name(patch,\"patch\");\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["fs","err","err2","er","er2"],"sources":["/root/porla/front-end-mergeVersion/fantastic-admin.v2.11.0/node_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/polyfills.js"],"sourcesContent":["var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\" || er.code === \"EBUSY\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n"]}}